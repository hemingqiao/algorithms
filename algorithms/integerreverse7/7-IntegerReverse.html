<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /*
    const reverse = function (num) {
        let flag = false;
        if (num < 0) {
            num = -num;
            flag = true;
        }

        num = +(num.toString().split("").reverse().join(""));

        let boundary = -(1 << 31);
        if (flag && num > boundary) {
            return 0;
        } else if (num > (boundary - 1)) {
            return 0;
        }
        if (flag) {
            return -num;
        }
        return num;
    }
    */


    // 转化为字符串后调用字符串的一些方法
    const reverse = num => {
        let newNum = +(Math.abs(num).toString().split("").reverse().join(""));

        if (num < 0) {
            return newNum <= Math.pow(2, 31) ? -newNum : 0;
        }
        return newNum < Math.pow(2, 31) ? newNum : 0;
    }


    // 取余法 321 = 123 % 10 12 % 10 1 % 10
    const reverse = function(num) {
        let old = Math.abs(num),
            newNum = 0;

        while (old > 0) {
            newNum = newNum * 10 + old % 10;
            old = Math.floor(old / 10);
        }

        if (num < 0) {
            return newNum <= Math.pow(2, 31) ? -newNum : 0;
        }
        return newNum < Math.pow(2, 31) ? newNum : 0;
    }


    /*
    // 耗时
    const reverse = function(num) {
        const sign = Math.sign(num);
        const result = Math.abs(num).toString().split("").reverse().join("") * sign;
        if (result > (Math.pow(2, 31) - 1) || result < Math.pow(2, 31) * -1) {
            return 0;
        }
        return result;
    }
    */


    // console.log(1 << 31); // 带符号左移，导致最终结果为负数
    let result = reverse(123);
    console.log(reverse(-2102))
</script>
</body>
</html>